# 🎙️ فاصلة - منصة البودكاست العربية

**فاصلة** هي منصة عربية حديثة لإنشاء ومشاركة واكتشاف محتوى البودكاست المرئي، تتيح للمستخدمين رفع فيديوهاتهم مباشرة أو استخراجها من يوتيوب تلقائيًا.  
جميع ملفات الفيديو يتم تخزينها في خدمة **Cloudflare R2** وتُقدَّم عبر نطاق خاص:  
`https://media.faslah.org`

---

## ⚙️ التقنيات المستخدمة

- **لغة البرمجة:** Golang
- **تخزين الملفات:** Cloudflare R2
- **تسريع تحميل الفيديوهات وتقليل استهلاك الخادم:** Cloudflare CDN
- **استخراج البيانات من الفيديو:** ffmpeg
- **تحليل فيديوهات يوتيوب:** [yt-dlp](https://github.com/yt-dlp/yt-dlp) عبر مكتبة Go
- **قاعدة البيانات:** PostgreSQL
- **الاستضافة:** Amazon Web Services (AWS)
- **توثيق API:** [Swagger / OpenAPI 3.0](http://faslah.org/swagger/index.html#/overview) - [عرض التوثيق الكامل](http://faslah.org/swagger/index.html#/)

---

## 🔊 فاصلة | واجهات برمجة خلفية Swagger UI
- **توثيق API:** [Swagger / OpenAPI 3.0](http://faslah.org/swagger/index.html#/overview) - [عرض التوثيق الكامل](http://faslah.org/swagger/index.html#/)

---

## ✨ المميزات الرئيسية

### 🧠 إنشاء البودكاست (محتوى مرئي)

تدعم المنصة طريقتين رئيسيتين لإنشاء محتوى بودكاست:

1. **رابط يوتيوب**
  - يقوم المستخدم بإدخال رابط لفيديو من يوتيوب.
  - النظام يقوم بتنزيل الفيديو والصوت بجودة عالية.
  - يتم دمج الفيديو مع الصوت تلقائيًا باستخدام `ffmpeg`.
  - يتم استخراج البيانات الوصفية تلقائيًا: العنوان، الوصف، المدة.
  - يُرفع الفيديو النهائي إلى Cloudflare R2.
  - يمكن للمستخدم تعديل البيانات الوصفية يدويًا إن رغب.

2. **رفع ملف MP4 يدويًا**
  - يقوم المستخدم برفع ملف MP4 من جهازه.
  - يُطلب منه إدخال العنوان، الوصف، والوسوم يدويًا.
  - يتم رفع الملف إلى Cloudflare R2 وتوليد رابط مباشر له.

---

## 🧪 مقارنة أوضاع الإدخال

| نوع الإدخال      | البيانات المطلوبة من المستخدم | مصدر البيانات الوصفية | مكان رفع الملف |
| ---------------- | ----------------------------- | --------------------- | -------------- |
| رابط يوتيوب      | (اختياري) تعديل البيانات      | استخراج تلقائي        | Cloudflare R2  |
| رفع ملف MP4 يدوي | العنوان، الوصف، الوسوم        | مُدخلة يدويًا         | Cloudflare R2  |

---

## 📁 هيكلية التخزين

- جميع الملفات تُخزن بصيغة `.mp4` بأسماء عشوائية باستخدام UUID
- تُقدم الروابط من نطاق موحد:  
  `https://media.faslah.org/{filename}.mp4`
- الملفات يتم تقديمها بسرعة وأمان من خلال Cloudflare

---

## 🔐 التحقق من البيانات

- **يُمنع إدخال كلا المصدرين (رابط + ملف) معًا**
- **يُمنع عدم إدخال أي مصدر**
- في حالة رفع ملف MP4، **يجب إدخال جميع البيانات الوصفية يدويًا**
- في حالة رابط يوتيوب، يمكن للنظام استخراج البيانات تلقائيًا

---

## 🚀 الاستضافة

تطبيق فاصلة مُستضاف على **AWS** باستخدام خدمات مثل:

- Amazon LightSail
- Cloudflare R2 (لتخزين الفيديوهات)

---
